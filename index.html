function selectQuiz(key, btn) {
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  btn.classList.add('active');
  currentQuiz = allQuizzes[key];
  renderQuiz();
}

function renderQuiz() {
  const quiz = document.getElementById('quiz');
  quiz.innerHTML = '';
  currentQuiz.forEach((q, i) => {
    const div = document.createElement('div');
    div.className = 'question';
    div.innerHTML = <div class="question-text">${i+1}. ${q.question}</div> +
      '<div class="options">' +
      q.options.map((opt, j) =>
        <label><input type="radio" name="q${i}" value="${j}"> ${opt}</label>
      ).join('') +
      '</div>';
    quiz.appendChild(div);
  });
  document.getElementById('result').innerHTML = '';
}

function checkAnswers() {
  let correctCount = 0;
  document.querySelectorAll('.question').forEach((div, i) => {
    const selected = div.querySelector('input:checked');
    if (!selected) return;
    if (Number(selected.value) === currentQuiz[i].correct) {
      div.classList.add('correct');
      correctCount++;
    } else {
      div.classList.add('wrong');
    }
  });
  document.getElementById('result').innerHTML =
    <div class="result">ðŸŽ¯ Natija: ${correctCount} / ${currentQuiz.length} ta to'g'ri javob</div>;
}

function resetQuiz() {
  renderQuiz();
}
</script>
</body>
</html>
